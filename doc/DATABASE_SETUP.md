# üóÑÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö DeadLine

## üìã –û–±–∑–æ—Ä

DeadLine –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Neon PostgreSQL** –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —Å **Drizzle ORM** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ö–µ–º–æ–π –∏ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏.

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# Database Configuration (Neon PostgreSQL)
DATABASE_URL=postgresql://neondb_owner:npg_Jw9lEFOT5rGf@ep-falling-term-aeli30gd-pooler.c-2.us-east-2.aws.neon.tech/neondb?sslmode=require&channel_binding=require

# GigaChat API Configuration
GIGACHAT_AUTH_KEY=MDE5OTgyNGItNGMxZS03ZWYxLWI0MjMtYmIzMTU2ZGRlY2VlOmQyMWFjYjkzLWQzMTctNDNjMC04N2FlLWFkMzEyNmIwYjBiZA==

# Better Auth Configuration
BETTER_AUTH_SECRET=your_secret_here
BETTER_AUTH_URL=http://localhost:3000
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

## üöÄ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∏–≥—Ä–∞—Ü–∏–π
```bash
# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –º–∏–≥—Ä–∞—Ü–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Å—Ö–µ–º–µ
npm run db:generate
```

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
```bash
# –ü—Ä–∏–º–µ–Ω—è–µ—Ç –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
npm run db:migrate
```

### –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º—ã (–±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–π)
```bash
# –ü—Ä—è–º–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ö–µ–º—É –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
npm run db:push
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
```bash
# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏ —Å—Ä–∞–∑—É –ø—Ä–∏–º–µ–Ω—è–µ—Ç –º–∏–≥—Ä–∞—Ü–∏—é
tsx scripts/generate-migration.ts
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
# –û—Ç–∫—Ä—ã–≤–∞–µ—Ç Drizzle Studio –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
npm run db:studio
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:

#### üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (Better Auth)
- `user` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `session` - —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `account` - –∞–∫–∫–∞—É–Ω—Ç—ã (OAuth, email/password)
- `verification` - –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è email

#### üè¢ –†–∞–±–æ—á–∏–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
- `workspace` - —Ä–∞–±–æ—á–∏–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
- `workspace_member` - —É—á–∞—Å—Ç–Ω–∏–∫–∏ —Ä–∞–±–æ—á–∏—Ö –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤

#### üìã –ü—Ä–æ–µ–∫—Ç—ã –∏ –∑–∞–¥–∞—á–∏
- `project` - –ø—Ä–æ–µ–∫—Ç—ã
- `issue` - –∑–∞–¥–∞—á–∏/–±–∞–≥–∏/–∏—Å—Ç–æ—Ä–∏–∏
- `ai_conversation` - –∏—Å—Ç–æ—Ä–∏—è —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤ —Å AI
- `ai_task_suggestion` - AI –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∑–∞–¥–∞—á

## üîÑ Workflow —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### 1. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ö–µ–º—ã
```typescript
// –í src/lib/db/schema.ts
export const newTable = pgTable("new_table", {
  id: text("id").primaryKey(),
  name: text("name").notNull(),
  // ... –¥—Ä—É–≥–∏–µ –ø–æ–ª—è
});
```

### 2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏
```bash
npm run db:generate
```

### 3. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏
```bash
npm run db:migrate
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ Drizzle Studio
```bash
npm run db:studio
```

## üõ†Ô∏è –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –°–±—Ä–æ—Å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–û–°–¢–û–†–û–ñ–ù–û!)
```bash
# –£–¥–∞–ª—è–µ—Ç –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∏ –¥–∞–Ω–Ω—ã–µ
npm run db:push -- --force
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```bash
# –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
tsx scripts/test-connection.ts
```

### –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞
```bash
# –°–æ–∑–¥–∞–µ—Ç –¥–∞–º–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
pg_dump $DATABASE_URL > backup.sql
```

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### Neon Dashboard
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Neon Console](https://console.neon.tech)
- –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ –º–µ—Ç—Ä–∏–∫–∏, –ª–æ–≥–∏, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### Drizzle Studio
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ `npm run db:studio`
- –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:4983
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ

## üö® Troubleshooting

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
echo $DATABASE_URL

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
ping ep-falling-term-aeli30gd-pooler.c-2.us-east-2.aws.neon.tech
```

### –û—à–∏–±–∫–∞ SSL
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ URL –µ—Å—Ç—å sslmode=require
DATABASE_URL=postgresql://...?sslmode=require&channel_binding=require
```

### –û—à–∏–±–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–π
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –º–∏–≥—Ä–∞—Ü–∏–π
npm run db:studio

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ö–µ–º—É
npm run db:push
```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```typescript
// –í src/lib/db/index.ts
const client = postgres(process.env.DATABASE_URL!, {
  ssl: 'require',
  max: 20,              // –ú–∞–∫—Å–∏–º—É–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
  idle_timeout: 20,     // –¢–∞–π–º–∞—É—Ç –ø—Ä–æ—Å—Ç–æ—è
  connect_timeout: 10,  // –¢–∞–π–º–∞—É—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
});
```

### –ò–Ω–¥–µ–∫—Å—ã
–î–æ–±–∞–≤—å—Ç–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:
```typescript
export const issue = pgTable("issue", {
  // ... –ø–æ–ª—è
}, (table) => ({
  projectIdIdx: index("project_id_idx").on(table.projectId),
  assigneeIdIdx: index("assignee_id_idx").on(table.assigneeId),
  statusIdx: index("status_idx").on(table.status),
}));
```

## üéØ –ì–æ—Ç–æ–≤–æ!

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ! üöÄ

- ‚úÖ Neon PostgreSQL –ø–æ–¥–∫–ª—é—á–µ–Ω–∞
- ‚úÖ Drizzle ORM –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –°—Ö–µ–º–∞ —Å–æ–∑–¥–∞–Ω–∞
- ‚úÖ AI —Ç–∞–±–ª–∏—Ü—ã –≥–æ—Ç–æ–≤—ã
